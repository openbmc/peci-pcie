{
  "comments": [
    {
      "key": {
        "uuid": "f0d899fc_9fc68ba3",
        "filename": "src/peci_pcie.cpp",
        "patchSetId": 2
      },
      "lineNbr": 674,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2021-07-06T22:13:42Z",
      "side": 1,
      "message": "scanPCIeDevice() is called in an async loop by scanNextPCIeDevice().  The new error return is only handled for the first call on CPU 0, bus 0, device 0, function 0, but not on any others.\n\nIf the purpose of the check is to avoid calling scanPCIeDevice() when cpuInfo is empty, could you just check it before calling?\n\nIf the check is needed, you may need to add it to scanNextPCIeDevice() as well.",
      "revId": "cab3d60fab1189d39bec508d707f0b618cb45e29",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1513b215_b61bcac8",
        "filename": "src/peci_pcie.cpp",
        "patchSetId": 2
      },
      "lineNbr": 674,
      "author": {
        "id": 1000879
      },
      "writtenOn": "2021-07-07T07:40:51Z",
      "side": 1,
      "message": "Well, here error check has real purpose: it `lastPECIState\u003dfalse` to re-trigger scan later once again. In `scanNextPCIeDevice` we have no access to this flag. I thought about to make it global, but with the new `waitForOSStandbyDelay` it has no sense anymore, we need to have some other way to manually re-trigger scan on error.\n\nCheck for empty actually is in `getCPUBusMap` now, here it\u0027s double check in case of something weird happens. I think, I can make it `void` back.",
      "parentUuid": "f0d899fc_9fc68ba3",
      "revId": "cab3d60fab1189d39bec508d707f0b618cb45e29",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}